(function(){var getClass={}.toString,isProperty,forEach,undef;var isLoader=typeof define==="function"&&define.amd,JSON3=!isLoader&&typeof exports=="object"&&exports;if(JSON3||isLoader)if(typeof JSON=="object"&&JSON)if(isLoader)JSON3=JSON;else{JSON3.stringify=JSON.stringify;JSON3.parse=JSON.parse}else{if(isLoader)JSON3=this.JSON={}}else JSON3=this.JSON||(this.JSON={});var Escapes,toPaddedString,quote,serialize;var fromCharCode,Unescapes,abort,lex,get,walk,update,Index,Source;var isExtended=new Date(-0xc782b5b800cec),
floor,Months,getDay;try{isExtended=isExtended.getUTCFullYear()==-109252&&isExtended.getUTCMonth()===0&&isExtended.getUTCDate()==1&&isExtended.getUTCHours()==10&&isExtended.getUTCMinutes()==37&&isExtended.getUTCSeconds()==6&&isExtended.getUTCMilliseconds()==708}catch(exception){}function has(name){var stringifySupported,parseSupported,value,serialized='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',all=name=="json";if(all||name=="json-stringify"||name=="json-parse"){if(name=="json-stringify"||
all){if(stringifySupported=typeof JSON3.stringify=="function"&&isExtended){(value=function(){return 1}).toJSON=value;try{stringifySupported=JSON3.stringify(0)==="0"&&JSON3.stringify(new Number)==="0"&&JSON3.stringify(new String)=='""'&&JSON3.stringify(getClass)===undef&&JSON3.stringify(undef)===undef&&JSON3.stringify()===undef&&JSON3.stringify(value)==="1"&&JSON3.stringify([value])=="[1]"&&JSON3.stringify([undef])=="[null]"&&JSON3.stringify(null)=="null"&&JSON3.stringify([undef,getClass,null])=="[null,null,null]"&&
JSON3.stringify({"A":[value,true,false,null,"\x00\b\n\f\r\t"]})==serialized&&JSON3.stringify(null,value)==="1"&&JSON3.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&JSON3.stringify(new Date(-864E13))=='"-271821-04-20T00:00:00.000Z"'&&JSON3.stringify(new Date(864E13))=='"+275760-09-13T00:00:00.000Z"'&&JSON3.stringify(new Date(-621987552E5))=='"-000001-01-01T00:00:00.000Z"'&&JSON3.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(exception){stringifySupported=false}}if(!all)return stringifySupported}if(name==
"json-parse"||all){if(typeof JSON3.parse=="function")try{if(JSON3.parse("0")===0&&!JSON3.parse(false)){value=JSON3.parse(serialized);if(parseSupported=value.A.length==5&&value.A[0]==1){try{parseSupported=!JSON3.parse('"\t"')}catch(exception){}if(parseSupported)try{parseSupported=JSON3.parse("01")!=1}catch(exception){}}}}catch(exception){parseSupported=false}if(!all)return parseSupported}return stringifySupported&&parseSupported}}if(!has("json")){if(!isExtended){floor=Math.floor;Months=[0,31,59,90,
120,151,181,212,243,273,304,334];getDay=function(year,month){return Months[month]+365*(year-1970)+floor((year-1969+(month=+(month>1)))/4)-floor((year-1901+month)/100)+floor((year-1601+month)/400)}}if(!(isProperty={}.hasOwnProperty))isProperty=function(property){var members={},constructor;if((members.__proto__=null,members.__proto__={"toString":1},members).toString!=getClass)isProperty=function(property){var original=this.__proto__,result=property in(this.__proto__=null,this);this.__proto__=original;
return result};else{constructor=members.constructor;isProperty=function(property){var parent=(this.constructor||constructor).prototype;return property in this&&!(property in parent&&this[property]===parent[property])}}members=null;return isProperty.call(this,property)};forEach=function(object,callback){var size=0,Properties,members,property,forEach;(Properties=function(){this.valueOf=0}).prototype.valueOf=0;members=new Properties;for(property in members)if(isProperty.call(members,property))size++;
Properties=members=null;if(!size){members=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];forEach=function(object,callback){var isFunction=getClass.call(object)=="[object Function]",property,length;for(property in object)if(!(isFunction&&property=="prototype")&&isProperty.call(object,property))callback(property);for(length=members.length;property=members[--length];isProperty.call(object,property)&&callback(property));}}else if(size==2)forEach=
function(object,callback){var members={},isFunction=getClass.call(object)=="[object Function]",property;for(property in object)if(!(isFunction&&property=="prototype")&&!isProperty.call(members,property)&&(members[property]=1)&&isProperty.call(object,property))callback(property)};else forEach=function(object,callback){var isFunction=getClass.call(object)=="[object Function]",property,isConstructor;for(property in object)if(!(isFunction&&property=="prototype")&&isProperty.call(object,property)&&!(isConstructor=
property==="constructor"))callback(property);if(isConstructor||isProperty.call(object,property="constructor"))callback(property)};return forEach(object,callback)};if(!has("json-stringify")){Escapes={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};toPaddedString=function(width,value){return("000000"+(value||0)).slice(-width)};quote=function(value){var result='"',index=0,symbol;for(;symbol=value.charAt(index);index++)result+='\\"\b\f\n\r\t'.indexOf(symbol)>-1?Escapes[symbol]:
Escapes[symbol]=symbol<" "?"\\u00"+toPaddedString(2,symbol.charCodeAt(0).toString(16)):symbol;return result+'"'};serialize=function(property,object,callback,properties,whitespace,indentation,stack){var value=object[property],className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,any,result;if(typeof value=="object"&&value){className=getClass.call(value);if(className=="[object Date]"&&!isProperty.call(value,"toJSON"))if(value>-1/0&&value<1/0){if(getDay){date=
floor(value/864E5);for(year=floor(date/365.2425)+1970-1;getDay(year+1,0)<=date;year++);for(month=floor((date-getDay(year,0))/30.42);getDay(year,month+1)<=date;month++);date=1+date-getDay(year,month);time=(value%864E5+864E5)%864E5;hours=floor(time/36E5)%24;minutes=floor(time/6E4)%60;seconds=floor(time/1E3)%60;milliseconds=time%1E3}else{year=value.getUTCFullYear();month=value.getUTCMonth();date=value.getUTCDate();hours=value.getUTCHours();minutes=value.getUTCMinutes();seconds=value.getUTCSeconds();
milliseconds=value.getUTCMilliseconds()}value=(year<=0||year>=1E4?(year<0?"-":"+")+toPaddedString(6,year<0?-year:year):toPaddedString(4,year))+"-"+toPaddedString(2,month+1)+"-"+toPaddedString(2,date)+"T"+toPaddedString(2,hours)+":"+toPaddedString(2,minutes)+":"+toPaddedString(2,seconds)+"."+toPaddedString(3,milliseconds)+"Z"}else value=null;else if(typeof value.toJSON=="function"&&(className!="[object Number]"&&className!="[object String]"&&className!="[object Array]"||isProperty.call(value,"toJSON")))value=
value.toJSON(property)}if(callback)value=callback.call(object,property,value);if(value===null)return"null";className=getClass.call(value);if(className=="[object Boolean]")return""+value;else if(className=="[object Number]")return value>-1/0&&value<1/0?""+value:"null";else if(className=="[object String]")return quote(value);if(typeof value=="object"){for(length=stack.length;length--;)if(stack[length]===value)throw TypeError();stack.push(value);results=[];prefix=indentation;indentation+=whitespace;
if(className=="[object Array]"){for(index=0,length=value.length;index<length;any||(any=true),index++){element=serialize(index,value,callback,properties,whitespace,indentation,stack);results.push(element===undef?"null":element)}result=any?whitespace?"[\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"]":"["+results.join(",")+"]":"[]"}else{forEach(properties||value,function(property){var element=serialize(property,value,callback,properties,whitespace,indentation,stack);if(element!==undef)results.push(quote(property)+
":"+(whitespace?" ":"")+element);any||(any=true)});result=any?whitespace?"{\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"}":"{"+results.join(",")+"}":"{}"}stack.pop();return result}};JSON3.stringify=function(source,filter,width){var whitespace,callback,properties,index,length,value;if(typeof filter=="function"||typeof filter=="object"&&filter)if(getClass.call(filter)=="[object Function]")callback=filter;else if(getClass.call(filter)=="[object Array]"){properties={};for(index=0,length=
filter.length;index<length;value=filter[index++],(getClass.call(value)=="[object String]"||getClass.call(value)=="[object Number]")&&(properties[value]=1));}if(width)if(getClass.call(width)=="[object Number]"){if((width-=width%1)>0)for(whitespace="",width>10&&(width=10);whitespace.length<width;whitespace+=" ");}else if(getClass.call(width)=="[object String]")whitespace=width.length<=10?width:width.slice(0,10);return serialize("",(value={},value[""]=source,value),callback,properties,whitespace,"",
[])}}if(!has("json-parse")){fromCharCode=String.fromCharCode;Unescapes={"\\":"\\",'"':'"',"/":"/","b":"\b","t":"\t","n":"\n","f":"\f","r":"\r"};abort=function(){Index=Source=null;throw SyntaxError();};lex=function(){var source=Source,length=source.length,symbol,value,begin,position,sign;while(Index<length){symbol=source.charAt(Index);if("\t\r\n ".indexOf(symbol)>-1)Index++;else if("{}[]:,".indexOf(symbol)>-1){Index++;return symbol}else if(symbol=='"'){for(value="@",Index++;Index<length;){symbol=source.charAt(Index);
if(symbol<" ")abort();else if(symbol=="\\"){symbol=source.charAt(++Index);if('\\"/btnfr'.indexOf(symbol)>-1){value+=Unescapes[symbol];Index++}else if(symbol=="u"){begin=++Index;for(position=Index+4;Index<position;Index++){symbol=source.charAt(Index);if(!(symbol>="0"&&symbol<="9"||symbol>="a"&&symbol<="f"||symbol>="A"&&symbol<="F"))abort()}value+=fromCharCode("0x"+source.slice(begin,Index))}else abort()}else{if(symbol=='"')break;value+=symbol;Index++}}if(source.charAt(Index)=='"'){Index++;return value}abort()}else{begin=
Index;if(symbol=="-"){sign=true;symbol=source.charAt(++Index)}if(symbol>="0"&&symbol<="9"){if(symbol=="0"&&(symbol=source.charAt(Index+1),symbol>="0"&&symbol<="9"))abort();sign=false;for(;Index<length&&(symbol=source.charAt(Index),symbol>="0"&&symbol<="9");Index++);if(source.charAt(Index)=="."){position=++Index;for(;position<length&&(symbol=source.charAt(position),symbol>="0"&&symbol<="9");position++);if(position==Index)abort();Index=position}symbol=source.charAt(Index);if(symbol=="e"||symbol=="E"){symbol=
source.charAt(++Index);if(symbol=="+"||symbol=="-")Index++;for(position=Index;position<length&&(symbol=source.charAt(position),symbol>="0"&&symbol<="9");position++);if(position==Index)abort();Index=position}return+source.slice(begin,Index)}if(sign)abort();if(source.slice(Index,Index+4)=="true"){Index+=4;return true}else if(source.slice(Index,Index+5)=="false"){Index+=5;return false}else if(source.slice(Index,Index+4)=="null"){Index+=4;return null}abort()}}return"$"};get=function(value){var results,
any,key;if(value=="$")abort();if(typeof value=="string"){if(value.charAt(0)=="@")return value.slice(1);if(value=="["){results=[];for(;;any||(any=true)){value=lex();if(value=="]")break;if(any)if(value==","){value=lex();if(value=="]")abort()}else abort();if(value==",")abort();results.push(get(value))}return results}else if(value=="{"){results={};for(;;any||(any=true)){value=lex();if(value=="}")break;if(any)if(value==","){value=lex();if(value=="}")abort()}else abort();if(value==","||typeof value!="string"||
value.charAt(0)!="@"||lex()!=":")abort();results[value.slice(1)]=get(lex())}return results}abort()}return value};update=function(source,property,callback){var element=walk(source,property,callback);if(element===undef)delete source[property];else source[property]=element};walk=function(source,property,callback){var value=source[property],length;if(typeof value=="object"&&value)if(getClass.call(value)=="[object Array]")for(length=value.length;length--;)update(value,length,callback);else forEach(value,
function(property){update(value,property,callback)});return callback.call(source,property,value)};JSON3.parse=function(source,callback){var result,value;Index=0;Source=source;result=get(lex());if(lex()!="$")abort();Index=Source=null;return callback&&getClass.call(callback)=="[object Function]"?walk((value={},value[""]=result,value),"",callback):result}}}if(isLoader)define(function(){return JSON3})}).call(this);
